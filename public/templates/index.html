{% extends "base.html" %}

{% block content %}

<body>
	<h1><b>Vaches</b>!</h1>
	{% if error %}
	<h2>{{error}}</h2>
	{% endif %}

	<!-- TODO breed selector (polish cow easteregg?) with the icons in './graphics' -->

	<datalist id="families-datalist">
		{% for family in families.values() %}
			<option value="{{ family.name }}">
		{% endfor %}
	</datalist>

	<datalist id="chart-type">
		{% for i in chart_types %}
			<option value="{{i}}">
		{% endfor %}
	</datalist>

	<form method="post">
		<label for="chart-type">Chart type</label><br>

		<input type="radio" id="chart1" name="chart">
		<label for="chart1">Nombre de velages par jour</label><br>

		<input type="radio" id="chart2" name="chart">
		<label for="chart2">Animaux nez en periode de pleine lune</label><br>

		<input type="radio" id="chart3" name="chart">
		<label for="chart3">Distribution des races</label><br>

		<!-- family selection -->

		<label for="family">Family</label>
		<input list="families-datalist" id="family" name="famille" required>

		<div id="date-selection">
			<label form="date_from">from</label>
			<input type="month" value="jj/mm/aaaa" name="date_from" min="{{min_date}}" max="{{max_date}}" required>

			<label form="date_to">to</label>
			<input type="month" value="jj/mm/aaaa" name="date_to" min="{{min_date}}" max="{{max_date}}" required>
		</div>

		<div id="breed-selection">
			<input list="families-datalist" id="race" name="race">
			<input type="number" id="percentage" name="percentage">
			<input type="submit">
		</div>
	</form>

	<!--<h2>Familles</h2>
	{% for family in families.values() %}
		<p>{{ family.name }} {{ family.count }}</p>
	{% endfor %}-->

<canvas id="graph" height="500"  width="500" ></canvas>
<script>
	var data = '{{my_data}}'
	var chart_id = '{{chart_id}}'
</script>


</body>
{% endblock %}
