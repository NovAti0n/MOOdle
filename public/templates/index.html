{% extends "base.html" %}

{% block content %}

<body>
	<h1><b>Vaches</b>!</h1>
	{% if error %}
	<h2>{{error}}</h2>
	{% endif %}

	<!-- TODO breed selector (polish cow easteregg?) with the icons in './graphics' -->

	<datalist id="families-datalist">
		{% for family in families.values() %}
			<option value="{{ family.name }}">
		{% endfor %}
	</datalist>

	<datalist id="chart-type">
		{% for i in chart_types %}
			<option value="{{i}}">
		{% endfor %}
	</datalist>

	<form method="get" action="/">
		<label for="chart-type">Chart type</label><br>

		<input type="radio" id="chart1" name="chart" value = "0" required>
		<label for="chart1">Nombre de velages par jour</label><br>

		<input type="radio" id="chart2" name="chart" value = "1">
		<label for="chart2">Animaux nez en periode de pleine lune</label><br>

		<input type="radio" id="chart3" name="chart" value = "2">
		<label for="chart3">Distribution des races</label><br>

		<!-- family selection -->

		<label for="family">Family</label>
		<input list="families-datalist" id="family" name="famille">

		<div id="date-selection">
			<label form="date_from">from</label>
			<input type="date" value="jj/mm/aaaa" name="date_from" min="{{min_date}}" max="{{max_date}}">

			<label form="date_to">to</label>
			<input type="date" value="jj/mm/aaaa" name="date_to" min="{{min_date}}" max="{{max_date}}">
		</div>

		<div id="breed-selection">
			<input list="families-datalist" id="race" name="race" required>
			<input type="number" id="percentage" name="percentage" required>
		</div>
		<input type="submit" value="Afficher">
	</form>


<canvas id="graph" height="500"  width="1000" ></canvas>
<script>
	var data = '{{my_data}}'
	var chart_id = '{{chart_id}}'
</script>


</body>
{% endblock %}
